---
name: docs-review
description: README/CONTRIBUTING/運用手順/設計メモなどドキュメント変更のレビュー観点・手順・指摘方法を提供する。ユーザーがドキュメントレビュー、記述の正確性・再現性・網羅性・整合性・読みやすさの確認を求める場合に使用する。
metadata:
  short-description: ドキュメントレビュー
---

# Docs Review

## Overview

ドキュメント変更を精査し、誤記・記載漏れ・手順不備・リンク不整合・読者混乱のリスクを早期に検出する。
レビューは「実装事実との一致」と「手順の再現性」を最優先とする。
レビュー結果は重大度順に、根拠と具体的修正案を添えて簡潔に示す。

## 対象外

- 実装変更を伴う依頼（実装スキルを優先）。
- 表現の好みだけに関する議論で、正確性・再現性・運用影響がないもの。

## 原則

- 事実優先: ドキュメントより実装・設定・実行結果を優先する。
- 再現性優先: 手順は第三者が同じ結果を得られるかで評価する。
- リスク優先: 体裁より誤操作・誤解・運用事故につながる点を優先して指摘する。
- 断定と推測の分離: 断定できない内容は条件付きで記載する。
- 最小追加: 指摘は必要十分に絞り、ノイズを増やさない。

## Workflow

### 1) 事前確認

- 対象ドキュメントとレビュー範囲（差分/全体）を確認する。
- 想定読者（新規利用者/開発者/運用者）を確認する。
- 参照すべき一次情報（実装、設定、コマンド、仕様）を確認する。
- レビュー観点を明確化する（正確性/再現性/網羅性/整合性/可読性）。

### 2) 変更内容の把握

- 何が追加・変更・削除されたかを要約する。
- 既存手順との整合性を確認する。
- 依存するコマンド、パス、前提条件を抽出する。

### 3) 事実照合（必須）

- コマンド: 記載コマンドが存在し、少なくとも構文上有効か確認する。
- パス: 記載ファイル/ディレクトリが実在するか確認する。
- リンク: ローカル参照先や相対リンクの有効性を確認する。
- 設定値: ドキュメント記述と実設定の一致を確認する。
- 前提条件: 必須ツール/認証/権限の条件が漏れていないか確認する。

### 4) リスク評価（重点項目）

- 正確性: 実装・設定・仕様と矛盾していないか。
- 再現性: 記載手順だけで同じ結果を再現できるか。
- 網羅性: 必要な前提、例外、注意事項が漏れていないか。
- 整合性: 他ドキュメントと用語・手順・リンクが一致しているか。
- 実行安全性: 破壊的コマンドや権限操作の注意喚起が十分か。
- 可読性: 見出し構造、順序、文の明瞭さが適切か。

### 5) 文書タイプ別の追加観点

- README:
  - 初回導線（要件→導入→確認）が切れずに読めるか。
  - 最短手順が過不足なく並んでいるか。
- 運用手順/Runbook:
  - 失敗時の分岐とロールバック手順が明記されているか。
  - 実行順序と停止条件が曖昧でないか。
- CONTRIBUTING/開発ガイド:
  - ローカル検証手順（lint/test/build）が再現可能か。
  - PR/コミット規約が実際の運用と一致するか。
- 設計メモ/ADR:
  - 背景・意思決定・却下案・影響範囲が揃っているか。
  - 現行実装との差分が明示されているか。

### 6) 指摘の整理

- 重大度順（重大/高/中/低）に列挙する。
- ファイルと行番号を明示する。
- 影響と理由を一文で述べ、具体的な修正案を添える。
- 断定できない場合は、前提と確認事項を明示する。
- 指摘がない場合は「指摘なし」を明記し、残リスクを添える。

## レビュー・改善サイクル（必須）

- 生成・修正する内容（指摘、修正案、確認事項など）は、提示前にレビューする。
- レビュー結果を反映して改善し、これを3回繰り返す。
- 3回目の改善結果を最終案として採用し、ユーザーには最終案のみ提示する（途中案は原則提示しない）。
- 途中案や各ラウンドの内容は、ユーザーから明示的に要求された場合にのみ提示する。
- ユーザー指定や既存規約がある場合は、それらを優先して最終案に反映する。

## 出力フォーマット（必須）

```markdown
指摘数: 重大X / 高Y / 中Z / 低W

1. [重大度] タイトル
   - ファイル: path/to/file:line
   - 指摘:
   - 理由・影響:
   - 修正案:
   - 根拠:
   - 確度:

質問・前提:
- [必要な場合のみ]

変更要約:
- [必要な場合のみ]

追加検証提案:
1. [必要な場合のみ]
```

## 書き方ルール

- 指摘は重大度順に並べる。
- ファイル参照は必ず付与する（行番号が不明な場合はファイルのみ）。
- 各指摘に「修正案」と「根拠」を必ず含める。
- 推測を含む場合は確度を下げ、条件を明示する。
- 体裁のみの指摘は、運用リスクがある場合に限る。

## 重大度の目安

- 重大: 誤手順によりデータ損失、機密漏洩、重大障害につながる。
- 高: 手順不備や前提漏れで高確率に作業失敗・運用停止を招く。
- 中: 一部条件で誤解・失敗が起こる、整合性欠如がある。
- 低: 表現や構造の改善余地で、運用リスクは限定的。

## 重大度の例

- 重大: 破壊的コマンドが確認なしで実行される手順になっている。
- 高: 必須認証手順が欠落し、実行時に確実に失敗する。
- 中: 一部OSでのみ成立する手順なのに条件が記載されていない。
- 低: 見出し構造が不統一で追読性が低い。

## 指摘テンプレ

```txt
指摘:
理由・影響:
修正案:
根拠:
確度:
```
