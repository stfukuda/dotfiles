---
name: release-notes
description: リリースノート/CHANGELOG の作成・更新方針とバージョン判断を提供する。ユーザーがリリース内容整理、破壊的変更の告知、バージョン決定を求める場合に使用する。
metadata:
  short-description: リリースノート作成
---

# Release Notes

変更内容を利用者に伝えるためのリリースノートとCHANGELOGを正確に整備する。

## 目的

- 変更内容を読者の視点で簡潔に伝える。
- 破壊的変更や移行手順を明確にする。
- 既存の規約・テンプレに合わせて一貫性を保つ。

## 対象外

- 軽微な変更でリリースノートが不要だと明示されている場合。

## レビュー・改善サイクル（必須）

- 生成・修正する内容（計画、手順、文面、設定、変更案など）は、提示または適用前にレビューする。
- レビュー結果を反映して改善し、これを3回繰り返す。
- 3回目の改善結果を最終案として採用する。
- ユーザー指定や既存規約がある場合は、それらを優先して最終案に反映する。

## 前提確認

- 対象の文書（CHANGELOG・リリースノート・GitHub Releases）を確認する。
- 既存の形式・見出し・表記・バージョニング規約があれば優先する。
- 対象リリースの範囲（期間・マイルストーン・コミット/PR）を確認する。
- 対象バージョン・日付・リリース種別（通常/プレリリース）を確認する。
- 読者（利用者・運用者・開発者）を確認する。
- 不明点は最小限の質問で補う。

## 情報源の優先順位

- 実装事実（差分・設定変更・移行手順）を最優先する。
- 次に公式な変更管理情報（PR/Issueの確定事項）を参照する。
- 口頭や暫定コメントは補助情報として扱い、断定根拠にしない。
- 情報が衝突する場合は矛盾を明示し、未確定として扱う。

## 手順

### 1) 変更内容の収集

- 差分・Issue・PR・仕様変更を整理する。
- 破壊的変更・互換性影響・移行が必要な変更を抽出する。
- 影響範囲と重要度を把握する。

### 2) 分類と要約

- 既存の分類に合わせる。未指定なら以下を基本とする。
  - Added / Changed / Fixed / Deprecated / Removed / Security
- ユーザー影響を先に書き、実装詳細は省略する。
- 1項目は1ポイントにし、曖昧な表現を避ける。
- 破壊的変更は独立セクションで明示する。

### 3) バージョニングの判断

- 既存の規約があれば最優先で従う。
- 規約がない場合はセマンティックバージョニングに従うことを提案する。
- 目安: 破壊的変更=major、互換性維持の機能追加=minor、互換性維持の修正=patch。
- 不確実な場合は判断理由と代替案を示す。
- 判断に使った根拠（破壊的変更の有無、互換性、影響範囲）を記録する。

### 4) リリースノート作成

- 見出しと箇条書きで短く明確に書く。
- 影響が大きい変更は「影響」「移行」「回避策」を添える。
- Issue/PR番号やリンクは規約があれば付与する。

### 5) 整合性確認

- 既存のCHANGELOGと重複・矛盾がないか確認する。
- 日付・バージョン・対象範囲の整合性を確認する。
- 既存のテンプレ・語彙・書式に合わせる。

## 品質チェックリスト

- [ ] 重要な変更と破壊的変更が最上部で明示されている
- [ ] バージョン判断に根拠がある
- [ ] 移行手順・回避策が必要箇所に記載されている
- [ ] 実装詳細の羅列だけで終わっていない
- [ ] 未確定事項を断定表現で書いていない

## 記載ルール

- 読者が行動すべきこと（移行・設定変更・回避策）を先に書く。
- 変更が小さい場合でも「影響なし」を明記する。
- 断定できない内容は「可能性」や「確認中」で表現する。

## 避けるべきこと

- 実装詳細の羅列だけでユーザー影響が書かれていない状態。
- 破壊的変更の記載漏れ。
- 変更内容の憶測や断定。

## 出力フォーマット

```markdown
# リリースノート: [バージョン]

## 日付・種別

- 日付:
- 種別:
- 対象バージョン:

## 期間・対象

- 期間:
- 対象:

## 重要な変更

- [ユーザー影響]

## 破壊的変更

- 影響:
- 移行:
- 回避策:

## 変更分類

- Added:
- Changed:
- Fixed:
- Deprecated:
- Removed:
- Security:

## バージョン判断の根拠

- 破壊的変更:
- 互換性:
- 判定理由:

## 未確定事項

- [確認待ちの項目]
```

## 返答のガイド

- 重要な変更と破壊的変更を最上部で明示する。
- 変更内容はユーザー視点で短く書く。
- 不確実な点は断定せず確認する。
- バージョン判断は根拠を添える。
- 未確定事項は「確認待ち」として分離して書く。
